{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useMenuTypeahead = exports.useMenuOptionItem = exports.useMenuItem = exports.useMenu = exports.useMenuTrigger = void 0;\n\nvar _focus = require(\"@react-aria/focus\");\n\nvar _utils = require(\"@react-aria/utils\");\n\nvar _reactNative = require(\"react-native-web/dist/index\");\n\nvar useMenuTrigger = function useMenuTrigger(_ref) {\n  var handleOpen = _ref.handleOpen,\n      isOpen = _ref.isOpen;\n  var menuTriggerId = (0, _utils.useId)();\n  return {\n    \"onKeyDownCapture\": function onKeyDownCapture(event) {\n      if ([\" \", \"Enter\", \"ArrowUp\", \"ArrowDown\"].includes(event.key)) {\n        event.preventDefault();\n        handleOpen();\n      }\n    },\n    \"aria-haspopup\": \"menu\",\n    \"aria-expanded\": isOpen ? true : undefined,\n    \"nativeID\": menuTriggerId\n  };\n};\n\nexports.useMenuTrigger = useMenuTrigger;\n\nvar useMenu = function useMenu() {\n  var focusManager = (0, _focus.useFocusManager)();\n\n  var onKeyDown = function onKeyDown(e) {\n    switch (e.key) {\n      case \"ArrowDown\":\n        {\n          e.preventDefault();\n          focusManager.focusNext({\n            wrap: true\n          });\n          break;\n        }\n\n      case \"ArrowUp\":\n        {\n          e.preventDefault();\n          focusManager.focusPrevious({\n            wrap: true\n          });\n          break;\n        }\n    }\n  };\n\n  return {\n    onKeyDown: onKeyDown,\n    accessibilityRole: \"menu\"\n  };\n};\n\nexports.useMenu = useMenu;\n\nvar useMenuItem = function useMenuItem(_ref2) {\n  var textValue = _ref2.textValue,\n      ref = _ref2.ref;\n  return {\n    accessibilityRole: \"menuitem\",\n    dataSet: {\n      nativebaseMenuItem: textValue\n    },\n    onHoverIn: function onHoverIn() {\n      if (ref.current && _reactNative.Platform.OS === \"web\") ref.current.focus();\n    }\n  };\n};\n\nexports.useMenuItem = useMenuItem;\n\nvar useMenuOptionItem = function useMenuOptionItem(_ref3) {\n  var isChecked = _ref3.isChecked,\n      type = _ref3.type;\n  return {\n    accessibilityRole: \"menuitem\" + (_reactNative.Platform.OS === \"web\" ? type : \"\"),\n    accessibilityState: {\n      checked: isChecked\n    },\n    accessibilityChecked: isChecked\n  };\n};\n\nexports.useMenuOptionItem = useMenuOptionItem;\nvar ITEM_ATTR = \"data-nativebase-menu-item\";\n\nvar getValue = function getValue(element) {\n  var _element$getAttribute;\n\n  return (_element$getAttribute = element.getAttribute(ITEM_ATTR)) !== null && _element$getAttribute !== void 0 ? _element$getAttribute : \"\";\n};\n\nvar useMenuTypeahead = function useMenuTypeahead(props) {\n  return {\n    onKeyDown: function onKeyDown(event) {\n      if (props.onKeyDown) {\n        props.onKeyDown(event);\n      }\n\n      if (event.key.length === 1 && !(event.ctrlKey || event.altKey || event.metaKey)) {\n        var container = event.currentTarget;\n        var values = Array.from(container.querySelectorAll(\"[\".concat(ITEM_ATTR, \"]\"))).map(getValue);\n        var searchKey = event.key;\n        var foundValue = values.find(function (value) {\n          return value.toLowerCase().startsWith(searchKey);\n        });\n        var newItem = container.querySelector(\"[\".concat(ITEM_ATTR, '=\"').concat(foundValue, '\"]'));\n\n        if (newItem) {\n          setTimeout(function () {\n            return newItem.focus();\n          });\n        }\n      }\n    }\n  };\n};\n\nexports.useMenuTypeahead = useMenuTypeahead;","map":{"version":3,"sources":["C:\\Users\\88017\\directory2\\my-app\\node_modules\\native-base\\lib\\commonjs\\components\\composites\\Menu\\useMenu.js"],"names":["Object","defineProperty","exports","value","useMenuTypeahead","useMenuOptionItem","useMenuItem","useMenu","useMenuTrigger","_focus","require","_utils","handleOpen","isOpen","menuTriggerId","useId","event","includes","key","preventDefault","undefined","focusManager","useFocusManager","onKeyDown","e","focusNext","wrap","focusPrevious","accessibilityRole","textValue","ref","dataSet","nativebaseMenuItem","onHoverIn","current","_reactNative","Platform","OS","focus","isChecked","type","accessibilityState","checked","accessibilityChecked","ITEM_ATTR","getValue","element","_element$getAttribute","getAttribute","props","length","ctrlKey","altKey","metaKey","container","currentTarget","values","Array","from","querySelectorAll","concat","map","searchKey","foundValue","find","toLowerCase","startsWith","newItem","querySelector","setTimeout"],"mappings":"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","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useMenuTypeahead = exports.useMenuOptionItem = exports.useMenuItem = exports.useMenu = exports.useMenuTrigger = void 0;\n\nvar _focus = require(\"@react-aria/focus\");\n\nvar _utils = require(\"@react-aria/utils\");\n\nvar _reactNative = require(\"react-native\");\n\nconst useMenuTrigger = ({\n  handleOpen,\n  isOpen\n}) => {\n  const menuTriggerId = (0, _utils.useId)();\n  return {\n    'onKeyDownCapture': event => {\n      if ([' ', 'Enter', 'ArrowUp', 'ArrowDown'].includes(event.key)) {\n        event.preventDefault();\n        handleOpen();\n      }\n    },\n    'aria-haspopup': 'menu',\n    'aria-expanded': isOpen ? true : undefined,\n    'nativeID': menuTriggerId\n  };\n};\n\nexports.useMenuTrigger = useMenuTrigger;\n\nconst useMenu = () => {\n  const focusManager = (0, _focus.useFocusManager)();\n\n  const onKeyDown = e => {\n    switch (e.key) {\n      case 'ArrowDown':\n        {\n          e.preventDefault();\n          focusManager.focusNext({\n            wrap: true\n          });\n          break;\n        }\n\n      case 'ArrowUp':\n        {\n          e.preventDefault();\n          focusManager.focusPrevious({\n            wrap: true\n          });\n          break;\n        }\n    }\n  };\n\n  return {\n    onKeyDown,\n    accessibilityRole: 'menu'\n  };\n};\n\nexports.useMenu = useMenu;\n\nconst useMenuItem = ({\n  textValue,\n  ref\n}) => {\n  return {\n    accessibilityRole: 'menuitem',\n    dataSet: {\n      nativebaseMenuItem: textValue\n    },\n    onHoverIn: () => {\n      if (ref.current && _reactNative.Platform.OS === 'web') ref.current.focus();\n    }\n  };\n};\n\nexports.useMenuItem = useMenuItem;\n\nconst useMenuOptionItem = ({\n  isChecked,\n  type\n}) => {\n  return {\n    accessibilityRole: 'menuitem' + (_reactNative.Platform.OS === 'web' ? type : ''),\n    accessibilityState: {\n      checked: isChecked\n    },\n    accessibilityChecked: isChecked\n  };\n};\n\nexports.useMenuOptionItem = useMenuOptionItem;\nconst ITEM_ATTR = 'data-nativebase-menu-item';\n\nconst getValue = element => {\n  var _element$getAttribute;\n\n  return (_element$getAttribute = element.getAttribute(ITEM_ATTR)) !== null && _element$getAttribute !== void 0 ? _element$getAttribute : '';\n};\n\nconst useMenuTypeahead = props => {\n  return {\n    onKeyDown(event) {\n      if (props.onKeyDown) {\n        props.onKeyDown(event);\n      }\n\n      if (event.key.length === 1 && !(event.ctrlKey || event.altKey || event.metaKey)) {\n        const container = event.currentTarget;\n        const values = Array.from(container.querySelectorAll(\"[\".concat(ITEM_ATTR, \"]\"))).map(getValue);\n        const searchKey = event.key;\n        const foundValue = values.find(value => value.toLowerCase().startsWith(searchKey));\n        const newItem = container.querySelector(\"[\".concat(ITEM_ATTR, \"=\\\"\").concat(foundValue, \"\\\"]\"));\n\n        if (newItem) {\n          /**\n           * Imperative focus during keydown is risky so we prevent React's batching updates\n           * to avoid potential bugs. See: https://github.com/facebook/react/issues/20332\n           */\n          setTimeout(() => newItem.focus());\n        }\n      }\n    }\n\n  };\n};\n\nexports.useMenuTypeahead = useMenuTypeahead;\n//# sourceMappingURL=useMenu.js.map"]},"metadata":{},"sourceType":"script"}