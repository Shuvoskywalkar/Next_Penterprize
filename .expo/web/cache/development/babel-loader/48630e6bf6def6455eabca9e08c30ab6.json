{"ast":null,"code":"\"use strict\";\n\nvar _defineProperty = require(\"@babel/runtime/helpers/defineProperty\");\n\nvar _INITIAL_PROP_SPECIFI;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.propsFlattener = exports.compareSpecificity = void 0;\n\nvar _lodash = _interopRequireDefault(require(\"lodash.merge\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nvar SPECIFICITY_100 = 100;\nvar SPECIFICITY_70 = 70;\nvar SPECIFICITY_60 = 60;\nvar SPECIFICITY_55 = 55;\nvar SPECIFICITY_50 = 50;\nvar SPECIFICITY_40 = 40;\nvar SPECIFICITY_30 = 30;\nvar SPECIFICITY_10 = 10;\nvar SPECIFICITY_1 = 1;\nvar specificityPrecedence = [SPECIFICITY_100, SPECIFICITY_70, SPECIFICITY_60, SPECIFICITY_55, SPECIFICITY_50, SPECIFICITY_40, SPECIFICITY_30, SPECIFICITY_10, SPECIFICITY_1];\nvar INITIAL_PROP_SPECIFICITY = (_INITIAL_PROP_SPECIFI = {}, _defineProperty(_INITIAL_PROP_SPECIFI, SPECIFICITY_100, 0), _defineProperty(_INITIAL_PROP_SPECIFI, SPECIFICITY_70, 0), _defineProperty(_INITIAL_PROP_SPECIFI, SPECIFICITY_60, 0), _defineProperty(_INITIAL_PROP_SPECIFI, SPECIFICITY_50, 0), _defineProperty(_INITIAL_PROP_SPECIFI, SPECIFICITY_55, 0), _defineProperty(_INITIAL_PROP_SPECIFI, SPECIFICITY_40, 0), _defineProperty(_INITIAL_PROP_SPECIFI, SPECIFICITY_30, 0), _defineProperty(_INITIAL_PROP_SPECIFI, SPECIFICITY_10, 0), _defineProperty(_INITIAL_PROP_SPECIFI, SPECIFICITY_1, 0), _INITIAL_PROP_SPECIFI);\nvar pseudoPropsMap = {\n  _web: {\n    dependentOn: \"platform\",\n    priority: SPECIFICITY_10\n  },\n  _ios: {\n    dependentOn: \"platform\",\n    priority: SPECIFICITY_10\n  },\n  _android: {\n    dependentOn: \"platform\",\n    priority: SPECIFICITY_10\n  },\n  _light: {\n    dependentOn: \"colormode\",\n    priority: SPECIFICITY_10\n  },\n  _dark: {\n    dependentOn: \"colormode\",\n    priority: SPECIFICITY_10\n  },\n  _indeterminate: {\n    dependentOn: \"state\",\n    respondTo: \"isIndeterminate\",\n    priority: SPECIFICITY_30\n  },\n  _checked: {\n    dependentOn: \"state\",\n    respondTo: \"isChecked\",\n    priority: SPECIFICITY_30\n  },\n  _readOnly: {\n    dependentOn: \"state\",\n    respondTo: \"isReadOnly\",\n    priority: SPECIFICITY_30\n  },\n  _invalid: {\n    dependentOn: \"state\",\n    respondTo: \"isInvalid\",\n    priority: SPECIFICITY_40\n  },\n  _focus: {\n    dependentOn: \"state\",\n    respondTo: \"isFocused\",\n    priority: SPECIFICITY_50\n  },\n  _focusVisible: {\n    dependentOn: \"state\",\n    respondTo: \"isFocusVisible\",\n    priority: SPECIFICITY_55\n  },\n  _hover: {\n    dependentOn: \"state\",\n    respondTo: \"isHovered\",\n    priority: SPECIFICITY_60\n  },\n  _pressed: {\n    dependentOn: \"state\",\n    respondTo: \"isPressed\",\n    priority: SPECIFICITY_70\n  },\n  _disabled: {\n    dependentOn: \"state\",\n    respondTo: \"isDisabled\",\n    priority: SPECIFICITY_100\n  }\n};\n\nvar compareSpecificity = function compareSpecificity(exisiting, upcoming, ignorebaseTheme) {\n  if (!exisiting) return true;\n  if (!upcoming) return false;\n  var condition = ignorebaseTheme ? specificityPrecedence.length - 1 : specificityPrecedence.length;\n\n  for (var index = 0; index < condition; index++) {\n    if (exisiting[specificityPrecedence[index]] > upcoming[specificityPrecedence[index]]) {\n      return false;\n    } else if (exisiting[specificityPrecedence[index]] < upcoming[specificityPrecedence[index]]) {\n      return true;\n    }\n  }\n\n  return true;\n};\n\nexports.compareSpecificity = compareSpecificity;\n\nvar shouldResolvePseudoProp = function shouldResolvePseudoProp(_ref) {\n  var property = _ref.property,\n      state = _ref.state,\n      platform = _ref.platform,\n      colormode = _ref.colormode;\n\n  if (pseudoPropsMap[property].dependentOn === \"platform\") {\n    return property === \"_\".concat(platform);\n  } else if (pseudoPropsMap[property].dependentOn === \"colormode\") {\n    return property === \"_\".concat(colormode);\n  } else if (pseudoPropsMap[property].dependentOn === \"state\") {\n    return state[pseudoPropsMap[property].respondTo];\n  } else {\n    return false;\n  }\n};\n\nvar simplifyProps = function simplifyProps(_ref2) {\n  var props = _ref2.props,\n      colormode = _ref2.colormode,\n      platform = _ref2.platform,\n      state = _ref2.state,\n      currentSpecificity = _ref2.currentSpecificity,\n      previouslyFlattenProps = _ref2.previouslyFlattenProps;\n  var flattenProps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var specificityMap = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var priority = arguments.length > 3 ? arguments[3] : undefined;\n\n  for (var property in props) {\n    var _pseudoPropsMap$prope, _pseudoPropsMap$prope2;\n\n    var propertySpecity = currentSpecificity ? _objectSpread({}, currentSpecificity) : _objectSpread(_objectSpread({}, INITIAL_PROP_SPECIFICITY), {}, _defineProperty({}, SPECIFICITY_1, priority));\n\n    if (state[(_pseudoPropsMap$prope = pseudoPropsMap[property]) === null || _pseudoPropsMap$prope === void 0 ? void 0 : _pseudoPropsMap$prope.respondTo] || [\"_dark\", \"_light\", \"_web\", \"_ios\", \"_android\"].includes(property)) {\n      if (shouldResolvePseudoProp({\n        property: property,\n        state: state,\n        platform: platform,\n        colormode: colormode\n      })) {\n        propertySpecity[pseudoPropsMap[property].priority]++;\n        simplifyProps({\n          props: props[property],\n          colormode: colormode,\n          platform: platform,\n          state: state,\n          currentSpecificity: propertySpecity,\n          previouslyFlattenProps: previouslyFlattenProps\n        }, flattenProps, specificityMap, priority);\n      }\n    } else if (state[(_pseudoPropsMap$prope2 = pseudoPropsMap[property]) === null || _pseudoPropsMap$prope2 === void 0 ? void 0 : _pseudoPropsMap$prope2.respondTo] === undefined) {\n      if (property.startsWith(\"_\")) {\n        if (compareSpecificity(specificityMap[property], propertySpecity, false)) {\n          specificityMap[property] = propertySpecity;\n          flattenProps[property] = (0, _lodash.default)({}, flattenProps[property], props[property]);\n        } else {\n          flattenProps[property] = (0, _lodash.default)({}, props[property], flattenProps[property]);\n        }\n      } else {\n        if (compareSpecificity(specificityMap[property], propertySpecity, false)) {\n          specificityMap[property] = propertySpecity;\n          flattenProps[property] = props[property];\n        }\n      }\n    }\n  }\n};\n\nvar propsFlattener = function propsFlattener(_ref3, priority) {\n  var props = _ref3.props,\n      colormode = _ref3.colormode,\n      platform = _ref3.platform,\n      state = _ref3.state,\n      currentSpecificityMap = _ref3.currentSpecificityMap,\n      previouslyFlattenProps = _ref3.previouslyFlattenProps;\n  var flattenProps = {};\n\n  for (var property in props) {\n    var _pseudoPropsMap$prope3;\n\n    if (state[(_pseudoPropsMap$prope3 = pseudoPropsMap[property]) === null || _pseudoPropsMap$prope3 === void 0 ? void 0 : _pseudoPropsMap$prope3.respondTo] === undefined && property.startsWith(\"_\")) {\n      flattenProps[property] = previouslyFlattenProps[property];\n    }\n  }\n\n  var specificityMap = currentSpecificityMap || {};\n  simplifyProps({\n    props: props,\n    colormode: colormode,\n    platform: platform,\n    state: state,\n    currentSpecificityMap: currentSpecificityMap,\n    previouslyFlattenProps: previouslyFlattenProps\n  }, flattenProps, specificityMap, priority);\n  return [flattenProps, specificityMap];\n};\n\nexports.propsFlattener = propsFlattener;","map":{"version":3,"sources":["C:\\Users\\88017\\directory2\\my-app\\node_modules\\native-base\\lib\\commonjs\\hooks\\useThemeProps\\propsFlattenerTest.js"],"names":["Object","defineProperty","exports","value","propsFlattener","compareSpecificity","_lodash","_interopRequireDefault","require","obj","__esModule","default","SPECIFICITY_100","SPECIFICITY_70","SPECIFICITY_60","SPECIFICITY_55","SPECIFICITY_50","SPECIFICITY_40","SPECIFICITY_30","SPECIFICITY_10","SPECIFICITY_1","specificityPrecedence","INITIAL_PROP_SPECIFICITY","pseudoPropsMap","_web","dependentOn","priority","_ios","_android","_light","_dark","_indeterminate","respondTo","_checked","_readOnly","_invalid","_focus","_focusVisible","_hover","_pressed","_disabled","exisiting","upcoming","ignorebaseTheme","condition","length","index","shouldResolvePseudoProp","property","state","platform","colormode","concat","simplifyProps","props","currentSpecificity","previouslyFlattenProps","flattenProps","specificityMap","_pseudoPropsMap$prope","_pseudoPropsMap$prope2","propertySpecity","includes","undefined","startsWith","currentSpecificityMap","_pseudoPropsMap$prope3"],"mappings":"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","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.propsFlattener = exports.compareSpecificity = void 0;\n\nvar _lodash = _interopRequireDefault(require(\"lodash.merge\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst SPECIFICITY_100 = 100;\nconst SPECIFICITY_70 = 70;\nconst SPECIFICITY_60 = 60;\nconst SPECIFICITY_55 = 55;\nconst SPECIFICITY_50 = 50;\nconst SPECIFICITY_40 = 40;\nconst SPECIFICITY_30 = 30;\nconst SPECIFICITY_10 = 10;\nconst SPECIFICITY_1 = 1;\nconst specificityPrecedence = [SPECIFICITY_100, SPECIFICITY_70, SPECIFICITY_60, SPECIFICITY_55, SPECIFICITY_50, SPECIFICITY_40, SPECIFICITY_30, SPECIFICITY_10, SPECIFICITY_1];\nconst INITIAL_PROP_SPECIFICITY = {\n  [SPECIFICITY_100]: 0,\n  [SPECIFICITY_70]: 0,\n  [SPECIFICITY_60]: 0,\n  [SPECIFICITY_50]: 0,\n  [SPECIFICITY_55]: 0,\n  [SPECIFICITY_40]: 0,\n  [SPECIFICITY_30]: 0,\n  [SPECIFICITY_10]: 0,\n  [SPECIFICITY_1]: 0\n};\nconst pseudoPropsMap = {\n  _web: {\n    dependentOn: 'platform',\n    priority: SPECIFICITY_10\n  },\n  _ios: {\n    dependentOn: 'platform',\n    priority: SPECIFICITY_10\n  },\n  _android: {\n    dependentOn: 'platform',\n    priority: SPECIFICITY_10\n  },\n  _light: {\n    dependentOn: 'colormode',\n    priority: SPECIFICITY_10\n  },\n  _dark: {\n    dependentOn: 'colormode',\n    priority: SPECIFICITY_10\n  },\n  // TODO: have to add more interactionProps and stateProps\n  _indeterminate: {\n    dependentOn: 'state',\n    respondTo: 'isIndeterminate',\n    priority: SPECIFICITY_30\n  },\n  _checked: {\n    dependentOn: 'state',\n    respondTo: 'isChecked',\n    priority: SPECIFICITY_30\n  },\n  // Add new pseudeo props in between -------\n  _readOnly: {\n    dependentOn: 'state',\n    respondTo: 'isReadOnly',\n    priority: SPECIFICITY_30\n  },\n  // Add new pseudeo props in between -------\n  _invalid: {\n    dependentOn: 'state',\n    respondTo: 'isInvalid',\n    priority: SPECIFICITY_40\n  },\n  _focus: {\n    dependentOn: 'state',\n    respondTo: 'isFocused',\n    priority: SPECIFICITY_50\n  },\n  _focusVisible: {\n    dependentOn: 'state',\n    respondTo: 'isFocusVisible',\n    priority: SPECIFICITY_55\n  },\n  _hover: {\n    dependentOn: 'state',\n    respondTo: 'isHovered',\n    priority: SPECIFICITY_60\n  },\n  _pressed: {\n    dependentOn: 'state',\n    respondTo: 'isPressed',\n    priority: SPECIFICITY_70\n  },\n  _disabled: {\n    dependentOn: 'state',\n    respondTo: 'isDisabled',\n    priority: SPECIFICITY_100\n  }\n};\n\nconst compareSpecificity = (exisiting, upcoming, ignorebaseTheme) => // property?: any\n{\n  if (!exisiting) return true;\n  if (!upcoming) return false;\n  const condition = ignorebaseTheme ? specificityPrecedence.length - 1 : specificityPrecedence.length;\n\n  for (let index = 0; index < condition; index++) {\n    if (exisiting[specificityPrecedence[index]] > upcoming[specificityPrecedence[index]]) {\n      return false;\n    } else if (exisiting[specificityPrecedence[index]] < upcoming[specificityPrecedence[index]]) {\n      return true;\n    }\n  }\n\n  return true;\n};\n\nexports.compareSpecificity = compareSpecificity;\n\nconst shouldResolvePseudoProp = ({\n  property,\n  state,\n  platform,\n  colormode\n}) => {\n  if (pseudoPropsMap[property].dependentOn === 'platform') {\n    return property === \"_\".concat(platform);\n  } else if (pseudoPropsMap[property].dependentOn === 'colormode') {\n    return property === \"_\".concat(colormode);\n  } else if (pseudoPropsMap[property].dependentOn === 'state') {\n    return state[pseudoPropsMap[property].respondTo];\n  } else {\n    return false;\n  }\n};\n\nconst simplifyProps = ({\n  props,\n  colormode,\n  platform,\n  state,\n  currentSpecificity,\n  previouslyFlattenProps\n}, flattenProps = {}, specificityMap = {}, priority) => {\n  for (const property in props) {\n    var _pseudoPropsMap$prope, _pseudoPropsMap$prope2;\n\n    // NOTE: the order is important here. Keep in mind while specificity breakpoints.\n    const propertySpecity = currentSpecificity ? { ...currentSpecificity\n    } : { ...INITIAL_PROP_SPECIFICITY,\n      [SPECIFICITY_1]: priority\n    };\n\n    if (state[(_pseudoPropsMap$prope = pseudoPropsMap[property]) === null || _pseudoPropsMap$prope === void 0 ? void 0 : _pseudoPropsMap$prope.respondTo] || ['_dark', '_light', '_web', '_ios', '_android'].includes(property)) {\n      if (shouldResolvePseudoProp({\n        property,\n        state,\n        platform,\n        colormode\n      })) {\n        propertySpecity[pseudoPropsMap[property].priority]++;\n        simplifyProps({\n          props: props[property],\n          colormode,\n          platform,\n          state,\n          currentSpecificity: propertySpecity,\n          previouslyFlattenProps: previouslyFlattenProps\n        }, flattenProps, specificityMap, priority);\n      }\n    } else if (state[(_pseudoPropsMap$prope2 = pseudoPropsMap[property]) === null || _pseudoPropsMap$prope2 === void 0 ? void 0 : _pseudoPropsMap$prope2.respondTo] === undefined) {\n      if (property.startsWith('_')) {\n        if (compareSpecificity(specificityMap[property], propertySpecity, false)) {\n          specificityMap[property] = propertySpecity; // merging internal props (like, _text, _checked, ...)\n\n          flattenProps[property] = (0, _lodash.default)({}, flattenProps[property], props[property]);\n        } else {\n          flattenProps[property] = (0, _lodash.default)({}, props[property], flattenProps[property]);\n        }\n      } else {\n        if (compareSpecificity(specificityMap[property], propertySpecity, false)) {\n          specificityMap[property] = propertySpecity; // replacing simple props (like, p, m, bg, color, ...)\n\n          flattenProps[property] = props[property];\n        }\n      }\n    }\n  }\n};\n\nconst propsFlattener = ({\n  props,\n  colormode,\n  platform,\n  state,\n  currentSpecificityMap,\n  previouslyFlattenProps\n}, priority) => {\n  const flattenProps = {};\n\n  for (const property in props) {\n    var _pseudoPropsMap$prope3;\n\n    if (state[(_pseudoPropsMap$prope3 = pseudoPropsMap[property]) === null || _pseudoPropsMap$prope3 === void 0 ? void 0 : _pseudoPropsMap$prope3.respondTo] === undefined && property.startsWith('_')) {\n      flattenProps[property] = previouslyFlattenProps[property];\n    }\n  }\n\n  const specificityMap = currentSpecificityMap || {}; // STEP 1.a (if): Check weather it should be recursively resolved\n  // NOTE: (when true) recursively resolved it\n  // STEP 1.b (else if): Check specificty\n  // STEP 1.b.i: Check for pseudo props\n  // NOTE: (when true) Merge it.\n  // NOTE: (when false) Replace it.\n\n  simplifyProps({\n    props,\n    colormode,\n    platform,\n    state,\n    currentSpecificityMap,\n    previouslyFlattenProps\n  }, flattenProps, specificityMap, priority);\n  return [flattenProps, specificityMap];\n};\n\nexports.propsFlattener = propsFlattener;\n//# sourceMappingURL=propsFlattenerTest.js.map"]},"metadata":{},"sourceType":"script"}