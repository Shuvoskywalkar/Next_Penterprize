{"ast":null,"code":"\"use strict\";\n\nvar _toConsumableArray = require(\"@babel/runtime/helpers/toConsumableArray\");\n\nvar _defineProperty = require(\"@babel/runtime/helpers/defineProperty\");\n\nvar _slicedToArray = require(\"@babel/runtime/helpers/slicedToArray\");\n\nvar _objectWithoutProperties = require(\"@babel/runtime/helpers/objectWithoutProperties\");\n\nvar _excluded = [\"onSelectedItemChange\", \"options\", \"renderItem\", \"getOptionLabel\", \"getOptionKey\", \"onChange\", \"numberOfItems\"];\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Typeahead = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _button = require(\"@react-native-aria/button\");\n\nvar _combobox = require(\"@react-stately/combobox\");\n\nvar _combobox2 = require(\"@react-native-aria/combobox\");\n\nvar _listbox = require(\"@react-native-aria/listbox\");\n\nvar _reactNative = require(\"react-native-web/dist/index\");\n\nvar _collections = require(\"@react-stately/collections\");\n\nvar _Box = _interopRequireDefault(require(\"../../primitives/Box\"));\n\nvar _Pressable = require(\"../../primitives/Pressable\");\n\nvar _Text = _interopRequireDefault(require(\"../../primitives/Text\"));\n\nvar _tools = require(\"../../../theme/tools\");\n\nvar _types = require(\"./types\");\n\nvar _Input = require(\"../../primitives/Input\");\n\nvar _hooks = require(\"../../../hooks\");\n\nvar _useHasResponsiveProps = require(\"../../../hooks/useHasResponsiveProps\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nvar Typeahead = _react.default.forwardRef(function (_ref, ref) {\n  var onSelectedItemChange = _ref.onSelectedItemChange,\n      options = _ref.options,\n      renderItem = _ref.renderItem,\n      getOptionLabel = _ref.getOptionLabel,\n      getOptionKey = _ref.getOptionKey,\n      onChange = _ref.onChange,\n      numberOfItems = _ref.numberOfItems,\n      rest = _objectWithoutProperties(_ref, _excluded);\n\n  if ((0, _useHasResponsiveProps.useHasResponsiveProps)(rest)) {\n    return null;\n  }\n\n  return _react.default.createElement(ComboBoxImplementation, _extends({}, rest, {\n    onSelectionChange: onSelectedItemChange,\n    items: numberOfItems !== undefined ? options.slice(0, numberOfItems) : options,\n    onInputChange: onChange,\n    ref: ref\n  }), function (item) {\n    if (typeof item !== \"string\" && getOptionLabel === undefined) {\n      throw new Error(\"Please use getOptionLabel prop\");\n    }\n\n    if (item.id === undefined && getOptionKey === undefined) {\n      throw new Error(\"Please use getOptionKey prop\");\n    }\n\n    var optionLabel = getOptionLabel ? getOptionLabel(item) : item;\n    var optionKey = getOptionKey ? getOptionKey(item) : item.id !== undefined ? item.id : optionLabel;\n    return _react.default.createElement(_collections.Item, {\n      textValue: optionLabel,\n      key: optionKey\n    }, renderItem ? renderItem(item) : _react.default.createElement(_Box.default, {\n      p: 2,\n      justifyContent: \"center\"\n    }, _react.default.createElement(_Text.default, null, optionLabel)));\n  });\n});\n\nexports.Typeahead = Typeahead;\n\nvar ComboBoxImplementation = _react.default.forwardRef(function (props, ref) {\n  var _ref2 = (0, _tools.extractInObject)(props, _types.layoutPropsList),\n      _ref3 = _slicedToArray(_ref2, 1),\n      layoutProps = _ref3[0];\n\n  var state = (0, _combobox.useComboBoxState)(props);\n\n  var triggerRef = _react.default.useRef(null);\n\n  var inputRef = _react.default.useRef(null);\n\n  var listBoxRef = _react.default.useRef(null);\n\n  var popoverRef = _react.default.useRef(null);\n\n  var _ref4 = (0, _combobox2.useComboBox)(_objectSpread(_objectSpread({}, props), {}, {\n    inputRef: inputRef,\n    buttonRef: triggerRef,\n    listBoxRef: listBoxRef,\n    popoverRef: popoverRef,\n    menuTrigger: \"input\"\n  }), state),\n      triggerProps = _ref4.buttonProps,\n      inputProps = _ref4.inputProps,\n      listBoxProps = _ref4.listBoxProps,\n      labelProps = _ref4.labelProps;\n\n  var toggleIconSetter = function toggleIconSetter() {\n    if (typeof props.toggleIcon === \"function\") return props.toggleIcon({\n      isOpen: state.isOpen\n    });\n    return props.toggleIcon;\n  };\n\n  var _ref5 = (0, _button.useButton)(triggerProps),\n      buttonProps = _ref5.buttonProps;\n\n  return _react.default.createElement(_Box.default, _extends({\n    flexDirection: \"row\"\n  }, layoutProps, {\n    ref: ref\n  }), _react.default.createElement(_Box.default, {\n    flex: 1\n  }, props.label && _react.default.createElement(_Text.default, _extends({}, labelProps, {\n    pb: 1\n  }), props.label), _react.default.createElement(_Input.Input, _extends({}, inputProps, {\n    ref: inputRef,\n    InputRightElement: _react.default.createElement(_Pressable.Pressable, _extends({}, buttonProps, {\n      ref: triggerRef\n    }), toggleIconSetter())\n  })), state.isOpen && _react.default.createElement(ListBoxPopup, _extends({}, listBoxProps, {\n    listBoxRef: listBoxRef,\n    popoverRef: popoverRef,\n    state: state,\n    label: props.label\n  }))));\n});\n\nfunction ListBoxPopup(props) {\n  var popoverRef = props.popoverRef,\n      listBoxRef = props.listBoxRef,\n      state = props.state,\n      dropdownHeight = props.dropdownHeight,\n      label = props.label;\n\n  var _ref6 = (0, _listbox.useListBox)({\n    label: label,\n    autoFocus: state.focusStrategy,\n    disallowEmptySelection: true\n  }, state, listBoxRef),\n      listBoxProps = _ref6.listBoxProps;\n\n  return _react.default.createElement(_Box.default, {\n    ref: popoverRef\n  }, _react.default.createElement(_Box.default, {\n    position: \"absolute\",\n    width: \"100%\",\n    maxHeight: dropdownHeight !== null && dropdownHeight !== void 0 ? dropdownHeight : 200\n  }, _react.default.createElement(_reactNative.ScrollView, _extends({}, listBoxProps, {\n    keyboardShouldPersistTaps: \"handled\",\n    ref: function ref(node) {\n      if (_reactNative.Platform.OS === \"web\") {\n        listBoxRef.current = (0, _reactNative.findNodeHandle)(node);\n      } else {\n        listBoxRef.current = node;\n      }\n    }\n  }), _toConsumableArray(state.collection).map(function (item) {\n    return _react.default.createElement(Option, {\n      key: item.key,\n      item: item,\n      state: state\n    });\n  }))));\n}\n\nfunction Option(_ref7) {\n  var item = _ref7.item,\n      state = _ref7.state;\n  var searchItemStyle = (0, _hooks.useThemeProps)(\"TypeAheadSearchItem\", {});\n\n  var ref = _react.default.useRef(null);\n\n  var isDisabled = state.disabledKeys.has(item.key);\n  var isSelected = state.selectionManager.isSelected(item.key);\n  var isFocused = state.selectionManager.focusedKey === item.key;\n\n  var _ref8 = (0, _listbox.useOption)({\n    key: item.key,\n    isDisabled: isDisabled,\n    isSelected: isSelected,\n    shouldFocusOnHover: true,\n    shouldUseVirtualFocus: true\n  }, state, ref),\n      optionProps = _ref8.optionProps;\n\n  var backgroundColor = searchItemStyle.backgroundColor;\n  var opacity = 1;\n\n  if (isSelected) {\n    backgroundColor = searchItemStyle._focus.backgroundColor;\n  } else if (isFocused) {\n    backgroundColor = searchItemStyle._focus.backgroundColor;\n  } else if (isDisabled) {\n    opacity = 0.6;\n    backgroundColor = searchItemStyle._disabled.backgroundColor;\n  }\n\n  return _react.default.createElement(_Pressable.Pressable, _extends({}, optionProps, {\n    opacity: opacity,\n    cursor: isDisabled ? _reactNative.Platform.OS === \"web\" ? \"not-allowed\" : null : null,\n    backgroundColor: backgroundColor,\n    ref: ref\n  }), item.rendered);\n}","map":{"version":3,"sources":["C:\\Users\\88017\\directory2\\my-app\\node_modules\\native-base\\lib\\commonjs\\components\\composites\\Typeahead\\Typeahead.js"],"names":["Object","defineProperty","exports","value","Typeahead","_react","_interopRequireDefault","require","_button","_combobox","_combobox2","_listbox","_collections","_Box","_Pressable","_Text","_tools","_types","_Input","_hooks","_useHasResponsiveProps","obj","__esModule","default","_extends","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","forwardRef","onSelectedItemChange","options","renderItem","getOptionLabel","getOptionKey","onChange","numberOfItems","rest","ref","useHasResponsiveProps","createElement","ComboBoxImplementation","onSelectionChange","items","undefined","slice","onInputChange","item","Error","id","optionLabel","optionKey","Item","textValue","p","justifyContent","props","layoutProps","extractInObject","layoutPropsList","state","useComboBoxState","triggerRef","useRef","inputRef","listBoxRef","popoverRef","buttonProps","triggerProps","inputProps","listBoxProps","labelProps","useComboBox","buttonRef","menuTrigger","toggleIconSetter","toggleIcon","isOpen","useButton","flexDirection","flex","label","pb","Input","InputRightElement","Pressable","ListBoxPopup","dropdownHeight","useListBox","autoFocus","focusStrategy","disallowEmptySelection","position","width","maxHeight","_reactNative","ScrollView","keyboardShouldPersistTaps","node","Platform","OS","current","findNodeHandle","collection","map","Option","searchItemStyle","useThemeProps","isDisabled","disabledKeys","has","isSelected","selectionManager","isFocused","focusedKey","optionProps","useOption","shouldFocusOnHover","shouldUseVirtualFocus","backgroundColor","opacity","_focus","_disabled","cursor","rendered"],"mappings":"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","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Typeahead = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _button = require(\"@react-native-aria/button\");\n\nvar _combobox = require(\"@react-stately/combobox\");\n\nvar _combobox2 = require(\"@react-native-aria/combobox\");\n\nvar _listbox = require(\"@react-native-aria/listbox\");\n\nvar _reactNative = require(\"react-native\");\n\nvar _collections = require(\"@react-stately/collections\");\n\nvar _Box = _interopRequireDefault(require(\"../../primitives/Box\"));\n\nvar _Pressable = require(\"../../primitives/Pressable\");\n\nvar _Text = _interopRequireDefault(require(\"../../primitives/Text\"));\n\nvar _tools = require(\"../../../theme/tools\");\n\nvar _types = require(\"./types\");\n\nvar _Input = require(\"../../primitives/Input\");\n\nvar _hooks = require(\"../../../hooks\");\n\nvar _useHasResponsiveProps = require(\"../../../hooks/useHasResponsiveProps\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nconst Typeahead = /*#__PURE__*/_react.default.forwardRef(({\n  onSelectedItemChange,\n  options,\n  renderItem,\n  getOptionLabel,\n  getOptionKey,\n  onChange,\n  numberOfItems,\n  ...rest\n}, ref) => {\n  //TODO: refactor for responsive prop\n  if ((0, _useHasResponsiveProps.useHasResponsiveProps)(rest)) {\n    return null;\n  }\n\n  return /*#__PURE__*/_react.default.createElement(ComboBoxImplementation, _extends({}, rest, {\n    onSelectionChange: onSelectedItemChange,\n    items: numberOfItems !== undefined ? options.slice(0, numberOfItems) : options,\n    onInputChange: onChange,\n    ref: ref\n  }), item => {\n    if (typeof item !== 'string' && getOptionLabel === undefined) {\n      throw new Error('Please use getOptionLabel prop');\n    }\n\n    if (item.id === undefined && getOptionKey === undefined) {\n      throw new Error('Please use getOptionKey prop');\n    }\n\n    const optionLabel = getOptionLabel ? getOptionLabel(item) : item;\n    const optionKey = getOptionKey ? getOptionKey(item) : item.id !== undefined ? item.id : optionLabel;\n    return /*#__PURE__*/_react.default.createElement(_collections.Item, {\n      textValue: optionLabel,\n      key: optionKey\n    }, renderItem ? renderItem(item) : /*#__PURE__*/_react.default.createElement(_Box.default, {\n      p: 2,\n      justifyContent: \"center\"\n    }, /*#__PURE__*/_react.default.createElement(_Text.default, null, optionLabel)));\n  });\n});\n\nexports.Typeahead = Typeahead;\n\nconst ComboBoxImplementation = /*#__PURE__*/_react.default.forwardRef((props, ref) => {\n  const [layoutProps] = (0, _tools.extractInObject)(props, _types.layoutPropsList);\n  let state = (0, _combobox.useComboBoxState)(props);\n\n  let triggerRef = _react.default.useRef(null);\n\n  let inputRef = _react.default.useRef(null);\n\n  let listBoxRef = _react.default.useRef(null);\n\n  let popoverRef = _react.default.useRef(null);\n\n  let {\n    buttonProps: triggerProps,\n    inputProps,\n    listBoxProps,\n    labelProps\n  } = (0, _combobox2.useComboBox)({ ...props,\n    inputRef,\n    buttonRef: triggerRef,\n    listBoxRef,\n    popoverRef,\n    menuTrigger: 'input'\n  }, state);\n\n  const toggleIconSetter = () => {\n    if (typeof props.toggleIcon === 'function') return props.toggleIcon({\n      isOpen: state.isOpen\n    });\n    return props.toggleIcon;\n  };\n\n  let {\n    buttonProps\n  } = (0, _button.useButton)(triggerProps);\n  return /*#__PURE__*/_react.default.createElement(_Box.default, _extends({\n    flexDirection: \"row\"\n  }, layoutProps, {\n    ref: ref\n  }), /*#__PURE__*/_react.default.createElement(_Box.default, {\n    flex: 1\n  }, props.label && /*#__PURE__*/_react.default.createElement(_Text.default, _extends({}, labelProps, {\n    pb: 1\n  }), props.label), /*#__PURE__*/_react.default.createElement(_Input.Input, _extends({}, inputProps, {\n    ref: inputRef,\n    InputRightElement:\n    /*#__PURE__*/\n    // @ts-ignore - RN has hitSlop type inconsistent for View and Pressable!\n    _react.default.createElement(_Pressable.Pressable, _extends({}, buttonProps, {\n      ref: triggerRef\n    }), toggleIconSetter())\n  })), state.isOpen && /*#__PURE__*/_react.default.createElement(ListBoxPopup, _extends({}, listBoxProps, {\n    listBoxRef: listBoxRef,\n    popoverRef: popoverRef,\n    state: state,\n    label: props.label\n  }))));\n});\n\nfunction ListBoxPopup(props) {\n  let {\n    popoverRef,\n    listBoxRef,\n    state,\n    dropdownHeight,\n    label\n  } = props;\n  let {\n    listBoxProps\n  } = (0, _listbox.useListBox)({\n    label,\n    autoFocus: state.focusStrategy,\n    disallowEmptySelection: true\n  }, state, listBoxRef);\n  return /*#__PURE__*/_react.default.createElement(_Box.default, {\n    ref: popoverRef\n  }, /*#__PURE__*/_react.default.createElement(_Box.default, {\n    position: \"absolute\",\n    width: \"100%\",\n    maxHeight: dropdownHeight !== null && dropdownHeight !== void 0 ? dropdownHeight : 200\n  }, /*#__PURE__*/_react.default.createElement(_reactNative.ScrollView, _extends({}, listBoxProps, {\n    keyboardShouldPersistTaps: \"handled\",\n    ref: node => {\n      if (_reactNative.Platform.OS === 'web') {\n        listBoxRef.current = (0, _reactNative.findNodeHandle)(node);\n      } else {\n        listBoxRef.current = node;\n      }\n    }\n  }), [...state.collection].map(item => /*#__PURE__*/_react.default.createElement(Option, {\n    key: item.key,\n    item: item,\n    state: state\n  })))));\n}\n\nfunction Option({\n  item,\n  state\n}) {\n  const searchItemStyle = (0, _hooks.useThemeProps)('TypeAheadSearchItem', {});\n\n  let ref = _react.default.useRef(null);\n\n  let isDisabled = state.disabledKeys.has(item.key);\n  let isSelected = state.selectionManager.isSelected(item.key);\n  let isFocused = state.selectionManager.focusedKey === item.key;\n  let {\n    optionProps\n  } = (0, _listbox.useOption)({\n    key: item.key,\n    isDisabled,\n    isSelected,\n    shouldFocusOnHover: true,\n    shouldUseVirtualFocus: true\n  }, state, ref);\n  let backgroundColor = searchItemStyle.backgroundColor;\n  let opacity = 1;\n\n  if (isSelected) {\n    backgroundColor = searchItemStyle._focus.backgroundColor;\n  } else if (isFocused) {\n    backgroundColor = searchItemStyle._focus.backgroundColor;\n  } else if (isDisabled) {\n    opacity = 0.6;\n    backgroundColor = searchItemStyle._disabled.backgroundColor;\n  }\n\n  return /*#__PURE__*/_react.default.createElement(_Pressable.Pressable, _extends({}, optionProps, {\n    opacity: opacity,\n    cursor: isDisabled ? _reactNative.Platform.OS === 'web' ? 'not-allowed' : null : null,\n    backgroundColor: backgroundColor,\n    ref: ref\n  }), item.rendered);\n}\n//# sourceMappingURL=Typeahead.js.map"]},"metadata":{},"sourceType":"script"}